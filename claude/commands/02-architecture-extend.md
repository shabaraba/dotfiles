既存システムへの機能追加「$ARGUMENTS」のアーキテクチャ拡張を設計してください。

## 既存システム拡張設計ガイドライン

1. **既存アーキテクチャ分析**
   - 現在のアーキテクチャパターンの把握
   - 既存コードの品質・構造評価
   - 技術的負債とボトルネックの特定
   - 既存の設計原則・規約の理解

2. **拡張戦略の選定**
   - 段階的移行（Strangler Fig Pattern）の適用
   - 既存システムとの境界設計
   - インクリメンタルな変更アプローチ
   - 後方互換性の維持戦略

3. **統合設計**
   - 既存APIとの整合性確保
   - データベーススキーマ拡張戦略
   - 認証・認可システムとの統合
   - ログ・モニタリングの一元化

4. **レガシーコードとの共存**
   - 古いコードベースとの相互運用
   - 段階的なリファクタリング計画
   - 依存関係の最小化
   - インターフェース層での分離

5. **リスク管理**
   - 既存機能への影響評価
   - ロールバック戦略
   - A/Bテスト・カナリアリリース計画
   - パフォーマンス影響の事前検証

6. **移行計画**
   - フェーズ分けされた実装計画
   - データ移行戦略（必要に応じて）
   - ユーザー影響の最小化
   - トレーニング・ドキュメント更新

## 拡張設計の制約考慮
- 既存の技術スタック制約
- 運用中システムへの影響最小化
- 開発チームのスキルセット
- 予算・スケジュール制約
- 品質・セキュリティ基準の維持

## 成果物
- 拡張アーキテクチャ図（既存システムとの関係含む）
- 段階的実装計画とマイルストーン
- 既存システムとの統合ポイント設計
- リスク評価と対策一覧
- 移行手順書とチェックリスト
- 拡張部分の実装ガイドライン